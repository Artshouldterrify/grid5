# Personal Recommendation System for Grid 5.0
A hybrid recommender built for Flipkart's Grid 5.0. 
Trained on the MovieLens100k dataset.

# Contents
### 1. Data
Contains all datasets used for this project alongside the "pivot.csv" file generated by this model.
### 2. calc_pivot.py
Generates rankings for all models and combines them into a single model which is stored upon completion of execution in the Data folder.
### 3. collab/grid-/popularity/similarityRecommender.py
Modules containing the implementations of the individual collaborative filtering, content-based filtering, popularity and user-user similarity models respectively.
### 4. main.py
The main script simulating the interaction between a user and the system. 
### 5. Evaluation.py
Module to calculate accuracy metrics precision@k, recall@k, mean-average-precision@k and RMSE.

# Usage
### 1. Creating Pivot Table
Run grid_recommender.py to generate the contest-based rankings, then run calc_pivot.py to generate the combined pivot table. It is important that this order is followed, as calc_pivot depends on the existence of "
content_pivot.csv" generated by grid_recommender.
### 2. Run main.py
The script first asks you to enter a UserID. Having been trained on the MovieLens100k dataset, the available user IDs range from 1-671. (integers)
```
Enter User ID: 34
```
Enter a userID to simulate a login to the system.
```
Successful login as user 34
Options:
1. Add Review    2. Get recommendations   3. Print previously rated movies    4. Browse an item   5. Exit
Enter your choice: 
```
The choices perform the following functions:

#### a. As the user, add a review for a movie to the ratings database.
```
Movie for which review is to be added:
```
Enter a movieID (integer, 1-163949) to enter a rating for.
```
Enter movie rating:
```
Enter a rating for the movie. (Integer; 1-5)

#### b. Get recommendations 
List the recommendations for the user based on their past rating history. These recommendations are randomized and will differ each time.
```
Your recommendations:
{'movieId': {1116: 1376}, 'title': {1116: 'Star Trek IV: The Voyage Home (1986)'}, 'genres': {1116: 'Adventure|Comedy|Sci-Fi'}}
{'movieId': {1581: 2019}, 'title': {1581: 'Seven Samurai (Shichinin no samurai) (1954)'}, 'genres': {1581: 'Action|Adventure|Drama'}}
{'movieId': {2103: 2628}, 'title': {2103: 'Star Wars: Episode I - The Phantom Menace (1999)'}, 'genres': {2103: 'Action|Adventure|Sci-Fi'}}
{'movieId': {561: 648}, 'title': {561: 'Mission: Impossible (1996)'}, 'genres': {561: 'Action|Adventure|Mystery|Thriller'}}
{'movieId': {1045: 1291}, 'title': {1045: 'Indiana Jones and the Last Crusade (1989)'}, 'genres': {1045: 'Action|Adventure'}}
{'movieId': {988: 1233}, 'title': {988: 'Boot, Das (Boat, The) (1981)'}, 'genres': {988: 'Action|Drama|War'}}
{'movieId': {1375: 1748}, 'title': {1375: 'Dark City (1998)'}, 'genres': {1375: 'Adventure|Film-Noir|Sci-Fi|Thriller'}}
{'movieId': {870: 1079}, 'title': {870: 'Fish Called Wanda, A (1988)'}, 'genres': {870: 'Comedy|Crime'}}
{'movieId': {1294: 1625}, 'title': {1294: 'Game, The (1997)'}, 'genres': {1294: 'Drama|Mystery|Thriller'}}
{'movieId': {1114: 1374}, 'title': {1114: 'Star Trek II: The Wrath of Khan (1982)'}, 'genres': {1114: 'Action|Adventure|Sci-Fi|Thriller'}}
```

#### c. View previously rated movies
List the movies previously rated by the user.
```
{'movieId': {2470: 3074}, 'title': {2470: 'Jeremiah Johnson (1972)'}, 'genres': {2470: 'Western'}}
{'movieId': {5: 6}, 'title': {5: 'Heat (1995)'}, 'genres': {5: 'Action|Crime|Thriller'}}
{'movieId': {2062: 2571}, 'title': {2062: 'Matrix, The (1999)'}, 'genres': {2062: 'Action|Sci-Fi|Thriller'}}
{'movieId': {840: 1036}, 'title': {840: 'Die Hard (1988)'}, 'genres': {840: 'Action|Crime|Thriller'}}
...
{'movieId': {2837: 3551}, 'title': {2837: 'Marathon Man (1976)'}, 'genres': {2837: 'Crime|Drama|Thriller'}}
{'movieId': {1590: 2028}, 'title': {1590: 'Saving Private Ryan (1998)'}, 'genres': {1590: 'Action|Drama|War'}}
{'movieId': {2460: 3062}, 'title': {2460: 'Longest Day, The (1962)'}, 'genres': {2460: 'Action|Drama|War'}}
{'movieId': {1224: 1527}, 'title': {1224: 'Fifth Element, The (1997)'}, 'genres': {1224: 'Action|Adventure|Comedy|Sci-Fi'}}
{'movieId': {2046: 2553}, 'title': {2046: 'Village of the Damned (1960)'}, 'genres': {2046: 'Horror|Sci-Fi|Thriller'}}
{'movieId': {2463: 3066}, 'title': {2463: 'Tora! Tora! Tora! (1970)'}, 'genres': {2463: 'Action|Drama|War'}}
```

#### d. Browse an item
Simulates a user searching/viewing a specific movie. Enter a movieID (integer, 1-163949), and movie recommendations related to the current item will be listed.
```
Enter item ID: 20
Viewing movie:
{'movieId': {19: 20}, 'title': {19: 'Money Train (1995)'}, 'genres': {19: 'Action|Comedy|Crime|Drama|Thriller'}}
Your recommendations:
{'movieId': {5975: 27876}, 'title': {5975: 'Schultze Gets the Blues (2003)'}, 'genres': {5975: 'Comedy|Drama'}}
{'movieId': {5165: 7460}, 'title': {5165: 'Coffee and Cigarettes (2003)'}, 'genres': {5165: 'Comedy|Drama'}}
{'movieId': {323: 358}, 'title': {323: 'Higher Learning (1995)'}, 'genres': {323: 'Drama'}}
{'movieId': {5087: 7272}, 'title': {5087: 'Super Fly (Superfly) (1972)'}, 'genres': {5087: 'Action|Crime|Drama'}}
{'movieId': {5381: 8273}, 'title': {5381: 'Tale of Ham and Passion, A (Jamón, Jamón) (1992)'}, 'genres': {5381: 'Comedy|Drama|Romance'}}
{'movieId': {7531: 77810}, 'title': {7531: 'Diary of a Nymphomaniac (Diario de una Ninfómana) (2008)'}, 'genres': {7531: 'Drama'}}
{'movieId': {7110: 64501}, 'title': {7110: 'Che: Part Two (2008)'}, 'genres': {7110: 'Drama|War'}}
{'movieId': {8026: 93693}, 'title': {8026: 'Casa de mi Padre (2012)'}, 'genres': {8026: 'Comedy'}}
{'movieId': {534: 606}, 'title': {534: 'Candyman: Farewell to the Flesh (1995)'}, 'genres': {534: 'Fantasy|Horror'}}
{'movieId': {169: 191}, 'title': {169: 'Scarlet Letter, The (1995)'}, 'genres': {169: 'Drama|Romance'}}
```

#### e. Exit
Logout as the user. 

```
Do you want to continue? (y/n)
```
Enter 'y' if you want to run the script again with another userID, any other character to quit.
***
